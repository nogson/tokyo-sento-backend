<mxfile host="65bd71144e">
    <diagram id="wwLTh4iysbnAMVAIcEcu" name="ページ1">
        <mxGraphModel dx="382" dy="210" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="19" value="frontend" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=17;" vertex="1" parent="1">
                    <mxGeometry x="240" y="250" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="auth.controller" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=17;" vertex="1" parent="1">
                    <mxGeometry x="470" y="250" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#B3B3B3;" edge="1" parent="1" target="19">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="300" y="1840" as="sourcePoint"/>
                        <mxPoint x="450" y="250" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="23" value="auth/singup" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
                    <mxGeometry x="310" y="340" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="24" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="300" y="420" as="sourcePoint"/>
                        <mxPoint x="740" y="420" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="&lt;div&gt;username, password&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
                    <mxGeometry x="360" y="390" width="130" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="30" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#B3B3B3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="530" y="1840" as="sourcePoint"/>
                        <mxPoint x="529.5" y="310" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="32" value="auth.service" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=17;" vertex="1" parent="1">
                    <mxGeometry x="680" y="250" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;create({&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial; font-size: 12px;&quot;&gt;&lt;font&gt;&amp;nbsp; username,&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;div style=&quot;&quot;&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;&amp;nbsp; hash化されたpassword&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;})&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;fontColor=#000000;fillColor=#FFFFCC;align=left;spacingLeft=13;strokeColor=none;" vertex="1" parent="1">
                    <mxGeometry x="761" y="610" width="160" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#B3B3B3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1449" y="1850" as="sourcePoint"/>
                        <mxPoint x="1449.33" y="310" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="39" value="auth/login" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
                    <mxGeometry x="310" y="840" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="&lt;div&gt;username, password&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
                    <mxGeometry x="350" y="890" width="130" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="300" y="920" as="sourcePoint"/>
                        <mxPoint x="530" y="920" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="44" value="&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;jwtService.&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: Menlo, Monaco, &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px;&quot;&gt;signAsync&lt;/span&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;()&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;fontColor=#000000;fillColor=#FFFFCC;strokeColor=none;" vertex="1" parent="1">
                    <mxGeometry x="761" y="1390" width="170" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="passwordを照合" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;rounded=1;strokeColor=default;" vertex="1" parent="1">
                    <mxGeometry x="761" y="1110" width="120" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="48" value="&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;findUnique()&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;fontColor=#000000;fillColor=#FFFFCC;strokeColor=none;" vertex="1" parent="1">
                    <mxGeometry x="761" y="925" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="49" value="ユーザーを取得" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;rounded=1;strokeColor=default;perimeterSpacing=1;" vertex="1" parent="1">
                    <mxGeometry x="761" y="880" width="118.04" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;crypt.compar(passwprd,hashedPassword)&lt;/span&gt;&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;fontColor=#000000;fillColor=#FFFFCC;strokeColor=none;" vertex="1" parent="1">
                    <mxGeometry x="761" y="1166" width="260" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="52" value="DB" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#008a00;fontColor=#ffffff;strokeColor=#005700;fontSize=17;" vertex="1" parent="1">
                    <mxGeometry x="1390" y="250" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="740" y="460" as="sourcePoint"/>
                        <mxPoint x="1000" y="460" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="55" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="740" y="980" as="sourcePoint"/>
                        <mxPoint x="1450" y="980" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="57" value="" style="endArrow=classic;html=1;dashed=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1440" y="1070" as="sourcePoint"/>
                        <mxPoint x="740" y="1070" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="58" value="User" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
                    <mxGeometry x="740" y="1020" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="JWTトークンを作成" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;labelBackgroundColor=default;strokeColor=default;rounded=1;" vertex="1" parent="1">
                    <mxGeometry x="761" y="1330" width="120" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="62" value="" style="endArrow=classic;html=1;dashed=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="740" y="1500" as="sourcePoint"/>
                        <mxPoint x="530" y="1500" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="64" value="JwtService" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1ba1e2;fontColor=#ffffff;strokeColor=#006EAF;fontSize=17;" vertex="1" parent="1">
                    <mxGeometry x="1170" y="250" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="65" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#B3B3B3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="998" y="1840" as="sourcePoint"/>
                        <mxPoint x="998.89" y="310" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="67" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="740" y="1440" as="sourcePoint"/>
                        <mxPoint x="1230" y="1440" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="69" value="bcrypt" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#069296;fontColor=#ffffff;strokeColor=none;strokeWidth=2;fontSize=17;" vertex="1" parent="1">
                    <mxGeometry x="940" y="250" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="70" value="&lt;div&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;bcrypt.hash(&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ハッシュ化したいpassword,&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;ストレッチング回数)&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;fontColor=#000000;fillColor=#FFFFCC;align=left;spacingLeft=13;strokeColor=none;" vertex="1" parent="1">
                    <mxGeometry x="761" y="380" width="190" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="71" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="740" y="690" as="sourcePoint"/>
                        <mxPoint x="1450" y="690" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="72" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#B3B3B3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="730" y="1850" as="sourcePoint"/>
                        <mxPoint x="739.44" y="310" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="73" value="" style="endArrow=classic;html=1;dashed=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1000" y="530" as="sourcePoint"/>
                        <mxPoint x="740" y="530" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="74" value="ハッシュ化されたパスワード" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
                    <mxGeometry x="790" y="490" width="160" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="75" value="ユーザーを作成" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;strokeColor=default;rounded=1;" vertex="1" parent="1">
                    <mxGeometry x="761" y="560" width="160" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="76" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="740" y="1230" as="sourcePoint"/>
                        <mxPoint x="1000" y="1230" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="77" value="" style="endArrow=classic;html=1;dashed=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1000" y="1280" as="sourcePoint"/>
                        <mxPoint x="740" y="1280" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="78" value="true" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
                    <mxGeometry x="740" y="1240" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="79" value="" style="endArrow=none;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=#B3B3B3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="1229" y="1840" as="sourcePoint"/>
                        <mxPoint x="1230.33" y="310" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="80" value="JWTトークン" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
                    <mxGeometry x="570" y="1450" width="130" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="81" value="&lt;span style=&quot;font-size: 12px;&quot;&gt;res.setHeader('Authorization', `Bearer ${jwt.accessToken}`);&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;labelBackgroundColor=none;fontSize=10;fontColor=#000000;fillColor=#FFFFCC;strokeColor=none;" vertex="1" parent="1">
                    <mxGeometry x="540" y="1590" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="82" value="JWTトークンをHeaderにセット" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;labelBackgroundColor=default;strokeColor=default;rounded=1;" vertex="1" parent="1">
                    <mxGeometry x="540" y="1530" width="120" height="46" as="geometry"/>
                </mxCell>
                <mxCell id="83" value="" style="endArrow=classic;html=1;dashed=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="510" y="1588.18" as="sourcePoint"/>
                        <mxPoint x="300" y="1588.18" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="84" value="accessToken" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
                    <mxGeometry x="310" y="1536" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="85" value="" style="endArrow=classic;html=1;strokeWidth=3;" edge="1" parent="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="300" y="1750" as="sourcePoint"/>
                        <mxPoint x="530" y="1750" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="86" value="Header&lt;br&gt;Bearer : XXXXXXXXXXXXX" style="text;whiteSpace=wrap;html=1;align=center;verticalAlign=middle;fontSize=12;" vertex="1" parent="1">
                    <mxGeometry x="310" y="1700" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="87" value="その他のリクエスト" style="rounded=0;whiteSpace=wrap;html=1;fontSize=18;" vertex="1" parent="1">
                    <mxGeometry x="310" y="1650" width="180" height="40" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>